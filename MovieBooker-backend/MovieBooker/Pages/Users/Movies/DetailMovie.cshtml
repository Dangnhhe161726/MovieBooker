@page
@model MovieBooker.Pages.Users.Movies.DetailMovieModel
@{
}

<link rel="stylesheet" href="~/css/DetailMovie.css" asp-append-version="true" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" asp-append-version="true" />

<div class="card">
    <!-- card left -->
    <div class="product-imgs">
        <div class="img-display">
            <div class="img-showcase">
                @foreach (var img in Model.movieImages)
                {
                    <img src="@img.LinkImage" alt="shoe image">
                }
            </div>
        </div>
        <div class="img-select">
            @{
                int count = 1;
            }
            @foreach (var img in Model.movieImages)
            {
                <div class="img-item">
                    <a href="#" data-id="@count">
                        <img src="@img.LinkImage" alt="shoe image" style="height: 8.9rem;">
                    </a>
                </div>
                count++;
            }
        </div>
    </div>
    <!-- card right -->
    @foreach (var dt in Model.moives)
    {
        <div class="product-content">
            <h2 class="product-title">@dt.MovieTitle</h2>
            <div class="product-rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
                <span>4.7(21)</span>
            </div>

            <div class="product-price">            
                <p class="new-price">Price Movie Ticket: <span>@dt.Price vnd</span></p>
            </div>

            <div class="product-detail">
                <h2>about this movie: </h2>
                <p>@dt.Description</p>
                <ul>
                    <li>Director: <span>@dt.Director</span></li>
                    <li>Durations: <span>@dt.Durations</span></li>
                    <li>Category: <span>@dt.Category.CategoryName</span></li>
                    <li>Release Date: <span>@dt.ReleaseDate.Value.ToString("dd/MM/yyyy")</span></li>
                    <li><span>
                                <button class="btn" onclick="showTrailer('@dt.Trailer')"><i class="fas fa-hand-point-right"></i> View Trailer</button>
                        </span>
                    </li>
                </ul>
            </div>

            @if (dt.StatusId == 2)
            {
                <div class="upcome_2i_lastir pt-3">
                    <span>
                        <a style="    width: 100px; background: #ff4444; color: white; line-height: 35px;" 
                        class="btn" asp-page="/Users/Cart/Ticket" asp-route-id="@dt.MovieId">MUA VÉ</a>
                    </span>
                </div>
            }
   
        </div>
    }
</div>
<div id="trailerModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeTrailer()">&times;</span>
        <iframe id="trailerFrame" width="100%" height="400" frameborder="0" allowfullscreen></iframe>
    </div>
</div>

<script src="/js/detailMovie.js" asp-append-version="true"></script>